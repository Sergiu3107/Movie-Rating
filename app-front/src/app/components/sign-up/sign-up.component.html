<section class="w-100 vh-100 d-flex justify-content-center align-items-center bg-body text-white" data-bs-theme="dark">
  <div class="p-3" style="width: 22rem;">
    <div class="d-flex justify-content-center">
      <a routerLink="/home"><img src="../../../assets/logo.png" alt="mooovie" width="128" height="128"></a>
    </div>
    <p class="fs-5 mb-4 d-flex justify-content-center">Go on, sign up!</p>
    <div>
      <form [formGroup]="singUpForm" (ngSubmit)="onSubmit()">
        <div class="form-floating mb-2">
          <input [ngClass]="{ 'is-invalid': submitted && f['username'].invalid }" formControlName="username" type="text"
                 class="form-control" id="username-input" placeholder="Username" required>
          <label for="username-input">Username</label>
          @if (submitted && f['username'].errors) {
            <div class="invalid-feedback">
              @if (f['username'].errors?.['required']) {
                <div>Username is required</div>
              }
              @if (f['username'].errors?.['minlength']) {
                <div>Username must be at least 6 characters</div>
              }
              @if (f['username'].errors?.['maxlength']) {
                <div>Username must not exceed 20 characters</div>
              }
            </div>
          }
        </div>
        <div class="form-floating mb-2">
          <input [ngClass]="{ 'is-invalid': submitted && f['email'].invalid }" formControlName="email" type="email"
                 class="form-control" id="email-input" placeholder="name@example.com" required>
          <label for="email-input">Email address</label>
          @if (submitted && f['email'].errors) {
            <div class="invalid-feedback">
              @if (f['email'].errors?.['required']) {
                <div>Email is required</div>
              }
              @if (f['email'].errors?.['email']) {
                <div>Email is invalid</div>
              }
            </div>
          }
        </div>
        <div class="form-floating mb-2">
          <input [ngClass]="{ 'is-invalid': submitted && f['password'].invalid }" formControlName="password"
                 type="password" class="form-control" id="password-input" placeholder="Password" required>
          <label for="password-input">Password</label>
          @if (submitted && f['password'].errors) {
            <div class="invalid-feedback">
              @if (f['password'].errors?.['required']) {
                <div>Password is required</div>
              }
              @if (f['password'].errors?.['minlength']) {
                <div>Password must be at least 8 characters</div>
              }
              @if (f['password'].errors?.['maxlength']) {
                <div>Username must not exceed 30 characters</div>
              }
            </div>
          }
        </div>
        <div class="form-floating mb-2">
          <input [ngClass]="{ 'is-invalid': submitted && f['confirmPassword'].invalid }"
                 formControlName="confirmPassword" type="password" class="form-control" id="confirm-password-input"
                 placeholder="Confirm password" required>
          <label for="confirm-password-input">Confirm password</label>
          <div *ngIf="submitted && f['confirmPassword'].errors" class="invalid-feedback">
            @if (submitted && f['confirmPassword'].errors) {
              <div class="invalid-feedback">
                @if (f['confirmPassword'].errors?.['required']) {
                  <div>Confirm Password is required</div>
                }
                @if (f['confirmPassword'].errors?.['matching']) {
                  <div>Confirm Password does not match</div>
                }
              </div>
            }
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-warning w-100 py-2 mt-4" type="submit">Sign up</button>
          <small class="d-flex justify-content-end mt-2">Don't forget your password, please.</small>
        </div>
      </form>
    </div>
    <div class="login-container mt-4 d-flex justify-content-center">
      <p class="font-weight-bold">Already have an account? <a routerLink="/log-in" class="text-warning">Log in</a></p>
    </div>
  </div>
</section>
